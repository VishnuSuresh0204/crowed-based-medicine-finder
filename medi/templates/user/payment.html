{% extends 'user/base.html' %}
{% block title %}Payment{% endblock %}
{% block content %}

<div class="glass-card" style="max-width: 500px; margin: 4rem auto; padding: 3rem;">
    <div style="text-align: center; margin-bottom: 2rem;">
        <h2 class="text-gradient" style="font-size: 2.2rem; margin-bottom: 0.5rem; font-weight: 700;">Make Payment</h2>
        <p class="text-muted">Securely pay for your pending bookings.</p>
    </div>
    
    {% if msg %}
    <div class="alert alert-info" style="margin-bottom: 1.5rem;">
        {{ msg }}
    </div>
    {% endif %}

    <div style="background:rgba(99,102,241,0.1); border:1px solid rgba(99,102,241,0.2); padding:1.5rem; border-radius:12px; margin-bottom:2rem; text-align: center;">
        <span class="text-muted" style="font-size: 0.9rem; display: block; margin-bottom: 0.5rem;">Total Amount to Pay</span>
        <strong style="font-size: 2.5rem; color: white;">â‚¹{{ total_amount }}</strong>
    </div>

    <div style="background:rgba(16, 185, 129, 0.1); border:1px solid rgba(16, 185, 129, 0.2); padding:1rem; border-radius:12px; margin-bottom:2rem; display:flex; align-items:start; gap:1rem;">
        <i class="fas fa-shield-alt" style="font-size: 1.2rem; color: #10b981; margin-top: 3px;"></i>
        <div>
             <h3 style="margin: 0 0 0.3rem 0; font-size: 1rem; color: #10b981;">Secure Payment</h3>
             <p style="font-size: 0.9rem; margin: 0; color: var(--text-muted);">This is a demonstration payment gateway. No real charges will be made.</p>
        </div>
    </div>

    <form method="post">
        {% csrf_token %}
        <div class="form-group">
            <label><i class="fas fa-credit-card" style="margin-right: 8px; color: var(--primary);"></i>Card Number</label>
            <input type="text" class="form-control" placeholder="0000 0000 0000 0000" required pattern="[0-9 ]{13,19}" maxlength="19" style="letter-spacing:2px; font-family: monospace;" title="Please enter a valid card number (13-19 digits)">
        </div>
        <div class="grid-2">
             <div class="form-group">
                <label><i class="fas fa-calendar-alt" style="margin-right: 8px; color: var(--accent);"></i>Expiry</label>
                <input type="text" class="form-control" placeholder="MM/YY" required pattern="(0[1-9]|1[0-2])\/[0-9]{2}" maxlength="5" style="text-align:center;" title="Expiry date in MM/YY format">
            </div>
             <div class="form-group">
                <label><i class="fas fa-lock" style="margin-right: 8px; color: #10b981;"></i>CVV</label>
                <input type="password" class="form-control" placeholder="123" required pattern="[0-9]{3,4}" maxlength="4" style="text-align:center;" title="3 or 4 digit security code">
            </div>
        </div>
        
        <button type="submit" class="btn btn-primary btn-block" style="margin-top: 1rem; padding: 1rem; font-size: 1.1rem;">
            Pay Now <i class="fas fa-arrow-right" style="margin-left: 5px;"></i>
        </button>
    </form>
    
    <div style="margin-top: 1.5rem; text-align: center;">
        <i class="fab fa-cc-visa" style="font-size: 2rem; color: rgba(255,255,255,0.3); margin: 0 10px;"></i>
        <i class="fab fa-cc-mastercard" style="font-size: 2rem; color: rgba(255,255,255,0.3); margin: 0 10px;"></i>
        <i class="fab fa-cc-amex" style="font-size: 2rem; color: rgba(255,255,255,0.3); margin: 0 10px;"></i>
    </div>
</div>
{% endblock %}
