{% extends 'pharmacy/base.html' %}
{% block title %}Add Medicine{% endblock %}
{% block content %}

<div style="max-width: 800px; margin: 0 auto;">
    <div style="margin-bottom: 2rem;">
        <a href="/manage_medicine/" class="text-muted hover-text-primary" style="display: inline-flex; align-items: center; gap: 0.5rem; font-weight: 500;">
            <i class="fas fa-arrow-left"></i> Back to Medicines
        </a>
    </div>

    <div class="glass-card" style="padding: 3rem;">
        <h2 class="text-center" style="margin-bottom: 2rem; font-size: 2.2rem; font-weight: 700;">
            <span class="text-gradient">Add New Medicine</span>
        </h2>
        
        {% if msg %}
        <div class="alert alert-danger">
            <i class="fas fa-exclamation-circle" style="margin-right: 0.5rem;"></i> {{ msg }}
        </div>
        {% endif %}
        
        <form method="post" enctype="multipart/form-data">
            {% csrf_token %}
            
            <div class="grid-2">
                <div class="form-group">
                    <label><i class="fas fa-pills" style="margin-right: 8px; color: var(--primary);"></i>Medicine Name</label>
                    <input type="text" name="name" class="form-control" pkg-label="Enter medicine name" required>
                </div>
                
                <div class="form-group">
                    <label><i class="fas fa-tags" style="margin-right: 8px; color: var(--secondary);"></i>Category</label>
                    <div style="position: relative;">
                        <select name="category" class="form-control" required style="cursor:pointer; appearance: none;">
                            <option value="tablet">Tablet</option>
                            <option value="syrup">Syrup</option>
                            <option value="ointment">Ointment</option>
                            <option value="equipment">Equipment</option>
                            <option value="kit">Kit</option>
                            <option value="other">Other</option>
                        </select>
                        <i class="fas fa-chevron-down" style="position: absolute; right: 15px; top: 50%; transform: translateY(-50%); color: var(--muted); pointer-events: none;"></i>
                    </div>
                </div>
            </div>
            
            <div class="form-group">
                <label><i class="fas fa-info-circle" style="margin-right: 8px; color: var(--accent);"></i>Description</label>
                <textarea name="details" class="form-control" required rows="4" placeholder="Enter medicine details, dosage info, etc."></textarea>
            </div>
            
            <div class="grid-2">
                 <div class="form-group">
                    <label><i class="fas fa-dollar-sign" style="margin-right: 8px; color: #10b981;"></i>Price</label>
                    <input type="number" step="0.01" name="price" class="form-control" placeholder="0.00" required>
                </div>
                 <div class="form-group">
                    <label><i class="fas fa-boxes" style="margin-right: 8px; color: #f59e0b;"></i>Stock Quantity</label>
                    <input type="number" name="stock" class="form-control" placeholder="0" required>
                </div>
            </div>

            <div class="grid-2" style="align-items: center;">
                 <div class="form-group">
                    <label><i class="fas fa-image" style="margin-right: 8px; color: var(--primary);"></i>Upload Image</label>
                    <input type="file" name="image" class="form-control" style="padding: 10px;">
                    <small class="text-muted" style="display: block; margin-top: 5px;">Supported formats: JPG, PNG</small>
                </div>
                 
                 <div class="form-group">
                    <label class="glass-card" style="display: flex; align-items: center; padding: 1rem; cursor: pointer; border: 1px solid rgba(56, 189, 248, 0.3);">
                        <input type="checkbox" name="prescription_required" id="pres" style="width: 20px; height: 20px; margin-right: 1rem; accent-color: var(--primary);">
                        <span style="font-weight: 500;">Prescription Required</span>
                    </label>
                </div>
            </div>

            <button type="submit" class="btn btn-primary btn-block" style="margin-top: 1rem; padding: 1rem; font-size: 1.1rem;">
                <i class="fas fa-plus-circle" style="margin-right: 8px;"></i> Add Medicine
            </button>
        </form>
    </div>
</div>
{% endblock %}
